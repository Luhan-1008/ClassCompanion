# 查看本地Room数据库的方法

## 方法一：Android Studio Database Inspector（推荐）

1. **运行应用**：在模拟器或真机上运行应用
2. **打开Database Inspector**：
   - 点击底部工具栏的 "App Inspection" 标签
   - 或者 View → Tool Windows → App Inspection
3. **选择进程**：选择正在运行的应用进程
4. **查看数据库**：
   - 展开 "Databases" → `course_companion_database`
   - 可以看到所有表：users, courses, assignments, study_groups, group_members, group_messages, group_files 等
   - 点击表名可以查看数据
   - 可以执行SQL查询

## 方法二：使用adb命令导出数据库

### 步骤：

1. **连接设备**（确保设备已连接或模拟器正在运行）

2. **找到数据库文件路径**：
   ```bash
   adb shell "run-as com.example.myapplication find /data/data/com.example.myapplication/databases -name '*.db'"
   ```

3. **导出数据库文件**：
   ```bash
   # 导出数据库文件到电脑
   adb shell "run-as com.example.myapplication cat /data/data/com.example.myapplication/databases/course_companion_database" > course_companion_database.db
   ```

   或者使用pull命令（需要root权限）：
   ```bash
   adb pull /data/data/com.example.myapplication/databases/course_companion_database course_companion_database.db
   ```

4. **使用SQLite工具查看**：
   - 下载 [DB Browser for SQLite](https://sqlitebrowser.org/)
   - 打开导出的 `.db` 文件
   - 可以查看所有表和数据

## 方法三：在代码中添加日志输出

可以在ViewModel或Repository中添加日志，查看查询结果。

## 方法四：使用Stetho（开发时调试工具）

如果需要更强大的调试功能，可以集成Stetho库。

## 数据库文件位置

- **模拟器**：`/data/data/com.example.myapplication/databases/course_companion_database`
- **真机**：需要root权限或使用run-as命令

## 常用SQL查询示例

```sql
-- 查看所有用户
SELECT * FROM users;

-- 查看所有课程
SELECT * FROM courses;

-- 查看所有学习小组
SELECT * FROM study_groups;

-- 查看所有群消息
SELECT * FROM group_messages ORDER BY createdAt DESC;

-- 查看所有文件
SELECT * FROM group_files;
```

